@using System.Drawing
@using System.ComponentModel

@code {
	[Parameter]
	public ResourceDisplayViewModel VM { get; set; } = new();

	/// <summary>
	/// When the view model's properties change, update the UI.
	/// </summary>
	/// <param name="sender"></param>
	/// <param name="e"></param>
	private void ViewModelPropertyChanged(object? sender, PropertyChangedEventArgs e)
	{
		StateHasChanged();
	}

	protected override void OnInitialized()
	{
		VM.PropertyChanged += ViewModelPropertyChanged;
	}

	public void Dispose()
	{
		VM.PropertyChanged -= ViewModelPropertyChanged;
	}
}

<div style="display: flex; flex-direction: row; width: 150px; height: 24px; vertical-align: middle; overflow: hidden">
	<div style="max-height: 100%; aspect-ratio: 1; margin: auto; text-align: left">
		<ImageDisplay VM="VM.IconVM" />
	</div>
	<span style="color: #@VM.Color.ToRgba(); margin: 0px 3px">@VM.Text</span>
</div>